<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Honey Shop Printable Receipt</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Caveat:wght@700&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#FF5412",
            "background-light": "#F9FAFB",
            "background-dark": "#111827",
          },
          fontFamily: {
            display: ["Inter", "sans-serif"],
            signature: ["Caveat", "cursive"],
          },
          borderRadius: {
            DEFAULT: "0.5rem",
          },
        },
      },
    };
  </script>
  <style>
    @media print {
      body {
        background-color: white !important;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
      .no-print {
        display: none !important;
      }
      .print-container {
        box-shadow: none !important;
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        max-width: none !important;
      }
      .bg-primary {
        background-color: #FF5412 !important;
        -webkit-print-color-adjust: exact;
      }
      .text-white {
        color: white !important;
      }
      .editable-field {
        border: none !important;
        background: transparent !important;
        padding: 0 !important;
        outline: none !important;
        box-shadow: none !important;
      }
      .delete-row-btn, .add-line-btn {
        display: none !important;
      }
    }

    .a4-page {
      width: 210mm;
      min-height: 297mm;
      padding: 0;
      margin: 20px auto;
      background: white;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    .editable-field {
      border: 1px solid transparent;
      background: transparent;
      transition: all 0.15s ease;
      border-radius: 4px;
      padding: 2px 4px;
      margin: -2px -4px;
      width: 100%;
    }
    .editable-field:hover {
      border-color: #e2e8f0;
      background: #f8fafc;
    }
    .editable-field:focus {
      border-color: #FF5412;
      background: white;
      outline: none;
      box-shadow: 0 0 0 2px rgba(255, 84, 18, 0.15);
    }
    .dark .editable-field:hover {
      border-color: #334155;
      background: #1e293b;
    }
    .dark .editable-field:focus {
      border-color: #FF5412;
      background: #0f172a;
    }

    .delete-row-btn {
      opacity: 0;
      transition: opacity 0.15s ease;
    }
    tr:hover .delete-row-btn {
      opacity: 1;
    }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 min-h-screen transition-colors duration-200">

  <!-- Toolbar -->
  <div class="no-print fixed top-4 right-4 flex gap-3 z-50">
    <button
      class="bg-primary hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-lg font-medium transition-all active:scale-95"
      onclick="window.print()"
    >
      <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"/></svg>
      Print Receipt
    </button>
    <button
      class="bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 p-2 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700"
      onclick="document.documentElement.classList.toggle('dark')"
    >
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path>
      </svg>
    </button>
  </div>

  <!-- Receipt -->
  <div class="print-container a4-page flex flex-col bg-white dark:bg-slate-900 overflow-hidden relative border border-slate-200 dark:border-slate-800">

    <!-- Header -->
    <div class="bg-primary px-12 py-10 flex justify-between items-start text-white">
      <div>
        <h1 class="text-6xl font-extrabold tracking-tighter">SALES RECEIPT</h1>
      </div>
      <div class="text-right flex flex-col gap-1 uppercase text-xs font-semibold tracking-wider opacity-90">
        <div class="grid grid-cols-2 gap-x-8">
          <span>Receipt #</span>
          <input class="editable-field text-sm font-bold text-white text-right bg-transparent" value="INT-001" />
        </div>
        <div class="grid grid-cols-2 gap-x-8">
          <span>Receipt Date</span>
          <input class="editable-field text-sm font-bold text-white text-right bg-transparent" value="11/02/2024" />
        </div>
        <div class="grid grid-cols-2 gap-x-8">
          <span>P.O.#</span>
          <input class="editable-field text-sm font-bold text-white text-right bg-transparent" value="2412/2024" />
        </div>
        <div class="grid grid-cols-2 gap-x-8">
          <span>Due Date</span>
          <input class="editable-field text-sm font-bold text-white text-right bg-transparent" value="26/02/2024" />
        </div>
      </div>
    </div>

    <!-- Addresses & Total -->
    <div class="px-12 py-10 grid grid-cols-12 gap-4">
      <div class="col-span-3">
        <p class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-2">From</p>
        <div class="text-sm space-y-0.5 font-medium">
          <input class="editable-field font-bold text-slate-800 dark:text-slate-100 text-sm" value="Golden Hive Co." />
          <input class="editable-field text-slate-600 dark:text-slate-400 text-sm" value="4490 Oak Drive" />
          <input class="editable-field text-slate-600 dark:text-slate-400 text-sm" value="Albany, NY 12210" />
        </div>
      </div>
      <div class="col-span-3">
        <p class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-2">Sold To</p>
        <div class="text-sm space-y-0.5 font-medium">
          <input class="editable-field font-bold text-slate-800 dark:text-slate-100 text-sm" value="Jessie M Horne" />
          <input class="editable-field text-slate-600 dark:text-slate-400 text-sm" value="4312 Wood Road" />
          <input class="editable-field text-slate-600 dark:text-slate-400 text-sm" value="New York, NY 10031" />
        </div>
      </div>
      <div class="col-span-3">
        <p class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-2">Ship To</p>
        <div class="text-sm space-y-0.5 font-medium">
          <input class="editable-field font-bold text-slate-800 dark:text-slate-100 text-sm" value="Jessie M Horne" />
          <input class="editable-field text-slate-600 dark:text-slate-400 text-sm" value="2019 Redbud Drive" />
          <input class="editable-field text-slate-600 dark:text-slate-400 text-sm" value="New York, NY 10011" />
        </div>
      </div>
      <div class="col-span-3 text-right">
        <p class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-2">Sales Receipt Total</p>
        <p id="header-total" class="text-4xl font-bold text-primary">$204.75</p>
      </div>
    </div>

    <!-- Line Items -->
    <div class="px-12 flex-grow">
      <table class="w-full text-left">
        <thead>
          <tr class="border-y-2 border-primary">
            <th class="py-4 text-[10px] uppercase tracking-widest font-extrabold text-primary w-6"></th>
            <th class="py-4 text-[10px] uppercase tracking-widest font-extrabold text-primary">Description</th>
            <th class="py-4 text-[10px] uppercase tracking-widest font-extrabold text-primary text-right w-32">Unit Price</th>
            <th class="py-4 text-[10px] uppercase tracking-widest font-extrabold text-primary text-center w-20">Qty</th>
            <th class="py-4 text-[10px] uppercase tracking-widest font-extrabold text-primary text-right w-32">Amount</th>
          </tr>
        </thead>
        <tbody id="invoice-lines" class="text-sm font-medium text-slate-800 dark:text-slate-200">
        </tbody>
      </table>

      <!-- Add Line Button -->
      <div class="no-print mt-2">
        <button
          id="add-line-btn"
          class="add-line-btn text-primary hover:text-orange-600 text-xs font-bold uppercase tracking-wider flex items-center gap-1 py-2 transition-colors"
          onclick="addLine()"
        >
          <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
          Add Line Item
        </button>
      </div>

      <!-- Totals -->
      <div class="flex justify-end mt-8">
        <div class="w-1/3 space-y-3">
          <div class="flex justify-between items-center text-xs uppercase tracking-wider font-bold text-primary">
            <span>Subtotal</span>
            <span id="subtotal" class="text-slate-800 dark:text-slate-100 text-sm font-medium">195.00</span>
          </div>
          <div class="flex justify-between items-center text-xs uppercase tracking-wider font-bold text-primary gap-4">
            <span class="flex items-center gap-1 whitespace-nowrap">
              Sales Tax
              <input
                id="tax-rate"
                type="number"
                step="0.1"
                min="0"
                max="100"
                value="5.0"
                class="editable-field w-14 text-right text-xs font-bold text-primary"
                oninput="recalculate()"
              />%
            </span>
            <span id="tax-amount" class="text-slate-800 dark:text-slate-100 text-sm font-medium">9.75</span>
          </div>
          <div class="flex justify-between items-center pt-4 border-t border-slate-200 dark:border-slate-700">
            <span class="text-sm uppercase tracking-widest font-extrabold text-primary">Total</span>
            <span id="total" class="text-lg font-extrabold text-slate-900 dark:text-white">$204.75</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="px-12 py-12 flex justify-between items-end">
      <div class="max-w-md space-y-6">
        <div>
          <h3 class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-2">Terms &amp; Conditions</h3>
          <textarea
            class="editable-field text-xs text-slate-600 dark:text-slate-400 font-medium leading-relaxed w-full resize-none"
            rows="3"
          >Payment is due within 15 days of receipt. Please make checks payable to Golden Hive Co. All returns must be unopened and within 30 days.</textarea>
        </div>
        <div>
          <h3 class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1">Bank Details</h3>
          <div class="text-[11px] text-slate-800 dark:text-slate-300 font-bold space-y-0.5">
            <input class="editable-field text-[11px] font-bold" value="Name of Bank: Honey Trust Bank" />
            <input class="editable-field text-[11px] font-bold" value="Account number: 1234567890" />
            <input class="editable-field text-[11px] font-bold" value="Routing: 098765432" />
          </div>
        </div>
      </div>
      <div class="text-right">
        <div class="relative">
          <input class="editable-field font-signature text-5xl text-slate-800 dark:text-slate-100 text-right" style="transform: rotate(-5deg); margin-bottom: 8px; margin-right: 16px;" value="John Smith" />
          <div class="h-0.5 bg-slate-200 dark:bg-slate-700 w-48 ml-auto"></div>
        </div>
        <p class="text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest mt-2">Authorized Signature</p>
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="h-4 bg-primary w-full"></div>
  </div>

  <script>
    // Invoice state
    let lines = [
      { description: "Organic Wildflower Honey (500g)", unitPrice: 100.00, qty: 1 },
      { description: "Honeycomb Sampler Box", unitPrice: 25.00, qty: 2 },
      { description: "Custom Branding Packaging Fee", unitPrice: 15.00, qty: 3 },
    ];

    function formatMoney(n) {
      return n.toFixed(2);
    }

    function renderLines() {
      const tbody = document.getElementById("invoice-lines");
      tbody.innerHTML = "";
      lines.forEach((line, i) => {
        const amount = line.unitPrice * line.qty;
        const tr = document.createElement("tr");
        tr.className = "border-b border-slate-100 dark:border-slate-800 group";
        tr.innerHTML = `
          <td class="py-3 w-6">
            <button
              class="delete-row-btn no-print text-slate-300 hover:text-red-500 transition-colors"
              onclick="removeLine(${i})"
              title="Remove line"
            >
              <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
            </button>
          </td>
          <td class="py-3">
            <input
              class="editable-field text-sm font-medium text-slate-800 dark:text-slate-200"
              value="${line.description}"
              oninput="updateLine(${i}, 'description', this.value)"
              placeholder="Item description"
            />
          </td>
          <td class="py-3 text-right">
            <input
              type="number"
              step="0.01"
              min="0"
              class="editable-field text-sm font-medium text-slate-800 dark:text-slate-200 text-right w-28"
              value="${formatMoney(line.unitPrice)}"
              oninput="updateLine(${i}, 'unitPrice', parseFloat(this.value) || 0)"
            />
          </td>
          <td class="py-3 text-center">
            <input
              type="number"
              step="1"
              min="1"
              class="editable-field text-sm font-medium text-slate-800 dark:text-slate-200 text-center w-16"
              value="${line.qty}"
              oninput="updateLine(${i}, 'qty', parseInt(this.value) || 0)"
            />
          </td>
          <td class="py-3 text-right text-sm font-medium text-slate-800 dark:text-slate-200">
            ${formatMoney(amount)}
          </td>
        `;
        tbody.appendChild(tr);
      });
      recalculate();
    }

    function updateLine(index, field, value) {
      lines[index][field] = value;
      // Re-render only the amount cell and totals (avoid full re-render to keep focus)
      const rows = document.querySelectorAll("#invoice-lines tr");
      const amountCell = rows[index].querySelector("td:last-child");
      const amount = lines[index].unitPrice * lines[index].qty;
      amountCell.textContent = formatMoney(amount);
      recalculate();
    }

    function addLine() {
      lines.push({ description: "", unitPrice: 0, qty: 1 });
      renderLines();
      // Focus the description field of the new row
      const rows = document.querySelectorAll("#invoice-lines tr");
      const lastRow = rows[rows.length - 1];
      const descInput = lastRow.querySelector("input");
      if (descInput) descInput.focus();
    }

    function removeLine(index) {
      if (lines.length <= 1) return; // Keep at least one line
      lines.splice(index, 1);
      renderLines();
    }

    function recalculate() {
      const subtotal = lines.reduce((sum, line) => sum + line.unitPrice * line.qty, 0);
      const taxRate = parseFloat(document.getElementById("tax-rate").value) || 0;
      const taxAmount = subtotal * (taxRate / 100);
      const total = subtotal + taxAmount;

      document.getElementById("subtotal").textContent = formatMoney(subtotal);
      document.getElementById("tax-amount").textContent = formatMoney(taxAmount);
      document.getElementById("total").textContent = "$" + formatMoney(total);
      document.getElementById("header-total").textContent = "$" + formatMoney(total);
    }

    // Initial render
    renderLines();
  </script>
</body>
</html>